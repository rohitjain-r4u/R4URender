<!-- Partial: requirement_detail_partial.html -->
<style>
  .section-title { font-weight:700; margin:.5rem 0; font-size:1rem; color:#111827; }
  .field-label { font-weight:600; margin-right:.4rem; color:#374151; }
  .field-value { margin-left:.1rem; color:#111827; }
  .spacer { margin-top:.25rem; }
  .badge-status { font-size:.75rem; padding:.3em .6em; border-radius:.25rem; }
  .card {
    background:#fff; border-radius:.75rem; box-shadow:0 4px 16px rgba(0,0,0,.15);
    overflow:hidden;
  }
  .card-header {
    background:#f9fafb; padding:1rem; border-bottom:1px solid #e5e7eb;
  }
  .muted-small { font-size:.85rem; color:#6b7280; }
  .card-body { padding:1.25rem; }
  .card-footer {
    background:#f9fafb; padding:.75rem 1.25rem; border-top:1px solid #e5e7eb;
  }
</style>

<div class="card">
  <div class="card-header d-flex align-items-start justify-content-between">
    <div>
      <div class="h5 mb-0" style="font-weight:700;color:#111827;">
        Requirement Details â€“ {{ requirement.client_name }} &amp; {{ requirement.requirement_name }}
      </div>
      <div class="muted-small">JD-{{ requirement.id }}</div>
    </div>
    <div class="header-actions d-flex gap-2">
      <a href="{{ url_for('update_requirement', req_id=requirement.id) }}" class="btn btn-primary btn-sm">
        <i class="bi bi-pencil me-1"></i>Edit
      </a>
    </div>
  </div>

  <div class="card-body">
    <div class="row">
      <div class="col-md-6 detail-left">
        <div class="mb-4">
          <div class="section-title">Client</div>
          <div class="spacer"></div>
          <p><span class="field-label">Client Name:</span><span class="field-value">{{ requirement.client_name }}</span></p>
          {% if requirement.client_linkedin_profile %}
            <p><span class="field-label">LinkedIn:</span>
              <span class="field-value"><a href="{{ requirement.client_linkedin_profile }}" target="_blank" rel="noopener">{{ requirement.client_linkedin_profile }}</a></span>
            </p>
          {% endif %}
          {% if requirement.client_brief_description %}
            <p><span class="field-label">Brief:</span><span class="field-value">{{ requirement.client_brief_description }}</span></p>
          {% endif %}
        </div>

        <div class="mb-4">
          <div class="section-title">Position</div>
          <div class="spacer"></div>
          <p><span class="field-label">Requirement:</span><span class="field-value">{{ requirement.requirement_name }}</span></p>
          <p><span class="field-label">Experience:</span><span class="field-value">{{ requirement.experience }}</span></p>
          <p><span class="field-label">Mandatory Skills:</span><span class="field-value">{{ requirement.mandatory_skills }}</span></p>
        </div>

        <div class="mb-4">
          <div class="section-title">Location</div>
          <div class="spacer"></div>
          <p><span class="field-label">Job Locations:</span><span class="field-value">{{ requirement.job_locations }}</span></p>
          <p><span class="field-label">Remote:</span>
            <span class="badge {% if requirement.remote %}bg-success{% else %}bg-secondary{% endif %} badge-status">
              {{ 'Yes' if requirement.remote else 'No' }}
            </span>
          </p>
        </div>
      </div>

      <div class="col-md-6 detail-right">
        <div class="mb-4">
          <div class="section-title">Financials</div>
          <div class="spacer"></div>
          <p><span class="field-label">Budget:</span><span class="field-value">{{ requirement.budget }}</span></p>
        </div>

        <div class="mb-4">
          <div class="section-title">Description</div>
          <div class="spacer"></div>
          <p class="field-value">{{ requirement.job_description }}</p>
        </div>

        <div class="mb-4">
          <div class="section-title">Timeline &amp; Status</div>
          <div class="spacer"></div>
          <p><span class="field-label">TH ID / Job ID:</span><span class="field-value">{{ requirement.job_d_th_d }}</span></p>
          <p><span class="field-label">Status:</span>
            <span class="badge {% if requirement.status == 'Active' %}bg-success{% elif requirement.status == 'Hold' %}bg-warning text-dark{% else %}bg-secondary{% endif %} badge-status">
              {{ requirement.status }}
            </span>
          </p>
          <p><span class="field-label">Added On:</span><span class="field-value">{% if requirement.added_date %}{{ requirement.added_date.strftime('%d %b %Y') }}{% else %}Not recorded{% endif %}</span></p>
          <p><span class="field-label">Assigned To:</span><span class="field-value">{{ requirement.assigned_to or '' }}</span></p>
        </div>
      </div>
    </div>
  </div>

  <div class="card-footer d-flex justify-content-between">
    <a href="{{ url_for('update_requirement', req_id=requirement.id) }}" class="btn btn-primary btn-sm">
      <i class="bi bi-pencil me-1"></i>Edit
    </a>
    <form method="POST" action="{{ url_for('delete_requirement', req_id=requirement.id) }}" onsubmit="return confirm('Delete this requirement?');">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      <button type="submit" class="btn btn-danger btn-sm">
        <i class="bi bi-trash me-1"></i>Delete
      </button>
    </form>
  </div>
</div>
